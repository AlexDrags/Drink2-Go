import fish from"./fish.js";const pagination=document.querySelector(".pagination"),postsEl=document.querySelector(".products-list"),btnPrev=pagination.querySelector(".pagination__link-prev"),btnNext=pagination.querySelector(".pagination__link-next"),productTemplate=document.querySelector("#product-template").content;function renderCard(e){for(const t of e){let{src:e,alt:n,title:i,description:c,price:r}=t;const o=productTemplate.cloneNode(!0);o.querySelector("img").src=e,o.querySelector("img").alt=n,o.querySelector(".products-list__title").textContent=i,o.querySelector(".products-list__description").textContent=c,o.querySelector(".products-list__price").textContent=r,postsEl.append(o)}}export function main(){const e=fish;let t=1,n=1;function i(e,t,n){postsEl.innerHTML="";const i=t*--n,c=i+t;renderCard(e.slice(i,c))}function c(c){let r=document.createElement("a");return r.classList.add("pagination__link"),r.innerText=c,t==c&&r.classList.add("active"),r.addEventListener("click",(()=>{t=c,n=t,i(e,3,t),document.querySelector("a.active").classList.remove("active"),r.classList.add("active")})),r}btnNext.addEventListener("click",(function(){let t=document.querySelectorAll(".pagination__link");t.forEach((e=>{e.classList.remove("active")})),postsEl.innerHTML="";const i=3*n,c=i+3;renderCard(e.slice(i,c)),c<e.length&&n++,t.forEach((e=>{Number(e.innerText)==n&&e.classList.add("active")}))})),btnPrev.addEventListener("click",(function(){let t=document.querySelectorAll(".pagination__link");t.forEach((e=>{e.classList.remove("active")})),postsEl.innerHTML="",n>1&&n--;const i=3*n-3,c=i+3;renderCard(e.slice(i,c)),t.forEach((e=>{Number(e.innerText)==n&&e.classList.add("active")}))})),i(e,3,t),function(e,t){const n=document.querySelector(".paginanation__number"),i=Math.ceil(e.length/t);for(let e=0;e<i;e++){let t=document.createElement("a");t.classList.add("pagination__link"),t=c(e+1),n.append(t)}pagination.append(n)}(e,3)}main();